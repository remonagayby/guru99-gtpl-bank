{
	"info": {
		"_postman_id": "2b36c5d0-518d-48ac-a358-f5130b93de43",
		"name": "Guru99 Project - Gtpl Bank V4 Collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
		"_exporter_id": "27505610"
	},
	"item": [
		{
			"name": "GET last 5 transaction details from server",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// validate the status code is 200",
							"pm.test(\"Status code is 200\", () => {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"// validate the presence of output format",
							"pm.test(\"The content-type is present\", () => {",
							"    pm.response.to.have.header(\"content-type\")",
							"});",
							"",
							"// validate the output format to be in json",
							"pm.test(\"The content of header is application/json\", () => {",
							"    pm.expect(pm.response.headers.get('Content-Type')).to.contain('json')",
							"});",
							"",
							"// validate json schema",
							"var responseData = pm.response.toJSON();",
							"var schema = {",
							"  \"$schema\": \"http://json-schema.org/draft-04/schema#\",",
							"  \"type\": \"object\",",
							"  \"properties\": {",
							"    \"result\": {",
							"      \"type\": \"object\",",
							"      \"properties\": {",
							"        \"Statements\": {",
							"          \"type\": \"array\",",
							"          \"items\": [",
							"            {",
							"              \"type\": \"object\",",
							"              \"properties\": {",
							"                \"Transaction ID\": {",
							"                  \"type\": \"integer\"",
							"                },",
							"                \"Amount\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Transaction Type\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"ACCOUNT_NO\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Date of Transaction\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Description\": {",
							"                  \"type\": \"string\"",
							"                }",
							"              },",
							"              \"required\": [",
							"                \"Transaction ID\",",
							"                \"Amount\",",
							"                \"Transaction Type\",",
							"                \"ACCOUNT_NO\",",
							"                \"Date of Transaction\",",
							"                \"Description\"",
							"              ]",
							"            },",
							"            {",
							"              \"type\": \"object\",",
							"              \"properties\": {",
							"                \"Transaction ID\": {",
							"                  \"type\": \"integer\"",
							"                },",
							"                \"Amount\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Transaction Type\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"ACCOUNT_NO\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Date of Transaction\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Description\": {",
							"                  \"type\": \"string\"",
							"                }",
							"              },",
							"              \"required\": [",
							"                \"Transaction ID\",",
							"                \"Amount\",",
							"                \"Transaction Type\",",
							"                \"ACCOUNT_NO\",",
							"                \"Date of Transaction\",",
							"                \"Description\"",
							"              ]",
							"            },",
							"            {",
							"              \"type\": \"object\",",
							"              \"properties\": {",
							"                \"Transaction ID\": {",
							"                  \"type\": \"integer\"",
							"                },",
							"                \"Amount\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Transaction Type\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"ACCOUNT_NO\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Date of Transaction\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Description\": {",
							"                  \"type\": \"string\"",
							"                }",
							"              },",
							"              \"required\": [",
							"                \"Transaction ID\",",
							"                \"Amount\",",
							"                \"Transaction Type\",",
							"                \"ACCOUNT_NO\",",
							"                \"Date of Transaction\",",
							"                \"Description\"",
							"              ]",
							"            },",
							"            {",
							"              \"type\": \"object\",",
							"              \"properties\": {",
							"                \"Transaction ID\": {",
							"                  \"type\": \"integer\"",
							"                },",
							"                \"Amount\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Transaction Type\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"ACCOUNT_NO\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Date of Transaction\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Description\": {",
							"                  \"type\": \"string\"",
							"                }",
							"              },",
							"              \"required\": [",
							"                \"Transaction ID\",",
							"                \"Amount\",",
							"                \"Transaction Type\",",
							"                \"ACCOUNT_NO\",",
							"                \"Date of Transaction\",",
							"                \"Description\"",
							"              ]",
							"            },",
							"            {",
							"              \"type\": \"object\",",
							"              \"properties\": {",
							"                \"Transaction ID\": {",
							"                  \"type\": \"integer\"",
							"                },",
							"                \"Amount\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Transaction Type\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"ACCOUNT_NO\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Date of Transaction\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"Description\": {",
							"                  \"type\": \"string\"",
							"                }",
							"              },",
							"              \"required\": [",
							"                \"Transaction ID\",",
							"                \"Amount\",",
							"                \"Transaction Type\",",
							"                \"ACCOUNT_NO\",",
							"                \"Date of Transaction\",",
							"                \"Description\"",
							"              ]",
							"            }",
							"          ]",
							"        }",
							"      },",
							"      \"required\": [",
							"        \"Statements\"",
							"      ]",
							"    },",
							"    \"message\": {",
							"      \"type\": \"object\",",
							"      \"properties\": {",
							"        \"ErrorCode\": {",
							"          \"type\": \"integer\"",
							"        },",
							"        \"ErrorMsg\": {",
							"          \"type\": \"string\"",
							"        }",
							"      },",
							"      \"required\": [",
							"        \"ErrorCode\",",
							"        \"ErrorMsg\"",
							"      ]",
							"    }",
							"  },",
							"  \"required\": [",
							"    \"result\",",
							"    \"message\"",
							"  ]",
							"};",
							"",
							"pm.test(\"JSON schema is valid\", () => {",
							"    pm.expect(tv4.validate(responseData, schema)).to.be.true;",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://demo.guru99.com/V4/sinkministatement.php?CUSTOMER_ID=68195&PASSWORD=1234!&Account_No=1",
					"protocol": "http",
					"host": [
						"demo",
						"guru99",
						"com"
					],
					"path": [
						"V4",
						"sinkministatement.php"
					],
					"query": [
						{
							"key": "CUSTOMER_ID",
							"value": "68195"
						},
						{
							"key": "PASSWORD",
							"value": "1234!"
						},
						{
							"key": "Account_No",
							"value": "1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET Balance from User Account",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// validate the status code is 200",
							"pm.test(\"Status code is 200\", () => {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"// validate the presence of output format",
							"pm.test(\"The content-type is present\", () => {",
							"    pm.response.to.have.header(\"content-type\")",
							"});",
							"",
							"// validate the output format to be in json",
							"pm.test(\"The content of header is application/json\", () => {",
							"    pm.expect(pm.response.headers.get('Content-Type')).to.contain('json')",
							"});",
							"",
							"// validate json schema",
							"var responseData = pm.response.toJSON();",
							"var schema = {",
							"  \"$schema\": \"http://json-schema.org/draft-04/schema#\",",
							"  \"type\": \"object\",",
							"  \"properties\": {",
							"    \"result\": {",
							"      \"type\": \"object\",",
							"      \"properties\": {",
							"        \"Balance\": {",
							"          \"type\": \"array\",",
							"          \"items\": [",
							"            {",
							"              \"type\": \"object\",",
							"              \"properties\": {",
							"                \"ACCOUNT_NO\": {",
							"                  \"type\": \"integer\"",
							"                },",
							"                \"ACCOUNT_TYPE\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"BALANCE\": {",
							"                  \"type\": \"string\"",
							"                }",
							"              },",
							"              \"required\": [",
							"                \"ACCOUNT_NO\",",
							"                \"ACCOUNT_TYPE\",",
							"                \"BALANCE\"",
							"              ]",
							"            },",
							"            {",
							"              \"type\": \"object\",",
							"              \"properties\": {",
							"                \"ACCOUNT_NO\": {",
							"                  \"type\": \"integer\"",
							"                },",
							"                \"ACCOUNT_TYPE\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"BALANCE\": {",
							"                  \"type\": \"string\"",
							"                }",
							"              },",
							"              \"required\": [",
							"                \"ACCOUNT_NO\",",
							"                \"ACCOUNT_TYPE\",",
							"                \"BALANCE\"",
							"              ]",
							"            },",
							"            {",
							"              \"type\": \"object\",",
							"              \"properties\": {",
							"                \"ACCOUNT_NO\": {",
							"                  \"type\": \"integer\"",
							"                },",
							"                \"ACCOUNT_TYPE\": {",
							"                  \"type\": \"string\"",
							"                },",
							"                \"BALANCE\": {",
							"                  \"type\": \"string\"",
							"                }",
							"              },",
							"              \"required\": [",
							"                \"ACCOUNT_NO\",",
							"                \"ACCOUNT_TYPE\",",
							"                \"BALANCE\"",
							"              ]",
							"            }",
							"          ]",
							"        }",
							"      },",
							"      \"required\": [",
							"        \"Balance\"",
							"      ]",
							"    },",
							"    \"message\": {",
							"      \"type\": \"object\",",
							"      \"properties\": {",
							"        \"ErrorCode\": {",
							"          \"type\": \"integer\"",
							"        },",
							"        \"ErrorMsg\": {",
							"          \"type\": \"string\"",
							"        }",
							"      },",
							"      \"required\": [",
							"        \"ErrorCode\",",
							"        \"ErrorMsg\"",
							"      ]",
							"    }",
							"  },",
							"  \"required\": [",
							"    \"result\",",
							"    \"message\"",
							"  ]",
							"};",
							"",
							"pm.test(\"JSON schema is valid\", () => {",
							"    pm.expect(tv4.validate(responseData, schema)).to.be.true;",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://demo.guru99.com/V4/sinkbalanceenquiry.php?CUSTOMER_ID=68195&PASSWORD=1234!&Account_No=",
					"protocol": "http",
					"host": [
						"demo",
						"guru99",
						"com"
					],
					"path": [
						"V4",
						"sinkbalanceenquiry.php"
					],
					"query": [
						{
							"key": "CUSTOMER_ID",
							"value": "68195"
						},
						{
							"key": "PASSWORD",
							"value": "1234!"
						},
						{
							"key": "Account_No",
							"value": ""
						}
					]
				}
			},
			"response": []
		}
	]
}